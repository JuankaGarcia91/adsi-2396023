<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challenge Calculator</title>
    <link rel="stylesheet" href="css/master2.css"> 
    <style>
        /* ligth mode */

        main.light {
            background: url(img/calculadora/fondo-claro.png) no-repeat center;
        }

        main.light header h1 {
            color: #000000;
        }

        main.light header h1 a svg {
            color: #000000;
        }
        
        main.light header button.mode {
            background: url(img/calculadora/oscuro.svg) no-repeat center;
            margin-top: 84px;            
        }
        
        main.light div.rectangular {
            background: url(img/calculadora/Rectangle-claro.svg) no-repeat center;
        }

        main.light div.display output.operation {
            font-weight: 275;
            font-size: 28px;
            color: #000000;
        }

        main.light div.display output.result {
            font-weight: 275;
            font-size: 54px;
            color: #000000;
        }

        main.light div.buttons1 button.n7 {
            background: url(img/calculadora/siete1.svg) no-repeat;
        }

        main.light div.buttons1 button.n8 {
            background: url(img/calculadora/ocho1.svg) no-repeat;
        }

        main.light div.buttons1 button.n9 {
            background: url(img/calculadora/nueve1.svg) no-repeat;
        }

        main.light div.buttons1 button.div {
            background: url(img/calculadora/div1.svg) no-repeat;
        }

        main.light div.buttons1 button.n4 {
            background: url(img/calculadora/cuatro1.svg) no-repeat;
        }

        main.light div.buttons1 button.n5 {
            background: url(img/calculadora/cinco1.svg) no-repeat;
        }

        main.light div.buttons1 button.n6 {
            background: url(img/calculadora/seis1.svg) no-repeat;
        }

        main.light div.buttons1 button.por {
            background: url(img/calculadora/por1.svg) no-repeat;
        }

        main.light div.buttons1 button.n1 {
            background: url(img/calculadora/uno1.svg) no-repeat;
        }

        main.light div.buttons1 button.n2 {
            background: url(img/calculadora/dos1.svg) no-repeat;
        }

        main.light div.buttons1 button.n3 {
            background: url(img/calculadora/tres1.svg) no-repeat;
        }

        main.light div.buttons1 button.men {
            background: url(img/calculadora/menos1.svg) no-repeat;
        }
        
        main.light div.buttons2 button.n0 {
            position: relative;
            left: 53px;
            height: 75px;
            width: 75px;
            border: none;
            background: url(img/calculadora/cero1.svg) no-repeat;
        }

        main.light div.buttons2 button.mas {
            position: relative;
            top: -2px;
            left: 210px;
            height: 75px;
            width: 75px;
            border: none;
            background: url(img/calculadora/mas1.svg) no-repeat;
        }

        main.light div.buttons2 button.punto {
            position: relative;            
            left: 54px;
            top: -4px;
            height: 75px;
            width: 75px;
            border: none;
            background: url(img/calculadora/punto1.svg) no-repeat;
        }

        main.light div.buttons2 button.igual {
            position: relative;
            left: -88px;
            top: -80px;
            height: 75px;
            width: 75px;
            border: none;
            background: url(img/calculadora/igual1.svg) no-repeat;
        }

        main.light div.buttons2 button.borrar {            
            position: relative;           
            height: 75px;
            width: 215px;
            top: -5px;
            left: 100px;
            border: none;
            background: url(img/calculadora/borrar1.svg) no-repeat;
        }        
        
        /* Dark mode */        

        main {
            background: url(img/calculadora/fondo-oscuro.png) no-repeat center;
            height: 650px;
            width: 410px;
            color: aliceblue;            
            border-radius: 20px; 
            transition: background 0.5s ease-in;          
        }

        header {            
            height: 60px;
        }
        
        header button.mode {
            height: 51px;
            width: 41px;
            background: url(img/calculadora/claro.svg) no-repeat;
            border: none;
            display: block;
            margin-left: 11px;
            transition: all 0.2s ease-in; 
            margin-top: 90px;         
        }

        header button.mode {
            cursor: pointer;
            transform: scale(1.05);
        }

        div.rectangular {            
            height: 140px;
            width: 360px;
            background: url(img/calculadora/Rectangle_oscuro.svg) no-repeat center;
            margin-left: 45px;
            padding: 5px;
        }

        div.display {
            display: flex;
            flex-direction: column;
            text-align: right;                        
            margin: 10px 60px;
        }

        div.display output.operation {
            font-weight: 275;
            font-size: 28px;
            color: #9e9e9e;            
        }

        div.display output.result {
            font-weight: 275;
            font-size: 54px;
            color: #B6B9C7;            
        }

        div.buttons1 {            
            display: grid;
            gap: 9px;
            justify-content: center;
            grid-template-columns: repeat(4, 70px);
            grid-template-rows: repeat(3, 75px);            
        }

        div.buttons1 div.buttons2:visited {
            transform: scale(3.15);
        }

        .buttons1 .buttons2:hover {
            transform: scale(0.15);
        }

        div.buttons1 button.n7 {
            border: none;
            background: url(img/calculadora/siete.svg) no-repeat;
        }

        div.buttons1 button.n8 {
            border: none;
            background: url(img/calculadora/ocho.svg) no-repeat;
        }

        div.buttons1 button.n9 {
            border: none;
            background: url(img/calculadora/nueve.svg) no-repeat;
        }

        div.buttons1 button.div {
            border: none;
            background: url(img/calculadora/div.svg) no-repeat;
        }

        div.buttons1 button.n4 {
            border: none;
            background: url(img/calculadora/cuatro.svg) no-repeat;
        }

        div.buttons1 button.n5 {
            border: none;
            background: url(img/calculadora/cinco.svg) no-repeat;
        }

        div.buttons1 button.n6 {
            border: none;
            background: url(img/calculadora/seis.svg) no-repeat;
        }

        div.buttons1 button.por {
            border: none;
            background: url(img/calculadora/por.svg) no-repeat;
        }

        div.buttons1 button.n1 {
            border: none;
            background: url(img/calculadora/uno.svg) no-repeat;
        }

        div.buttons1 button.n2 {
            border: none;
            background: url(img/calculadora/dos.svg) no-repeat;
        }

        div.buttons1 button.n3 {
            border: none;
            background: url(img/calculadora/tres.svg) no-repeat;
        }

        div.buttons1 button.men {
            border: none;
            background: url(img/calculadora/menos.svg) no-repeat;
        }       

        div.buttons2 {
            margin-top: 8px;          
            height: 200px;            
            display:block;            
            justify-content: center;
        }

        div.buttons2 button.n0 {
            position: relative;
            left: 53px;
            height: 75px;
            width: 75px;
            border: none;
            background: url(img/calculadora/cero.svg) no-repeat;
        }

        div.buttons2 button.mas {
            position: relative;
            top: -2px;
            left: 210px;
            height: 75px;
            width: 75px;
            border: none;
            background: url(img/calculadora/mas.svg) no-repeat;
        }

        div.buttons2 button.punto {
            position: relative;            
            left: 54px;
            top: -4px;
            height: 75px;
            width: 75px;
            border: none;
            background: url(img/calculadora/punto.svg) no-repeat;
        }

        div.buttons2 button.igual {
            position: relative;
            left: -88px;
            top: -80px;
            height: 75px;
            width: 75px;
            border: none;
            background: url(img/calculadora/igual.svg) no-repeat;
        }

        div.buttons2 button.borrar {            
            position: relative;           
            height: 75px;
            width: 215px;
            top: -5px;
            left: 100px;
            border: none;
            background: url(img/calculadora/borrar.svg) no-repeat;
        }
        
    </style>   
</head>
<body>
    <main>
        <header>
            <h1>
                <a href="index.html">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z" clip-rule="evenodd" />
                      </svg>
                </a>
                Calculator
            </h1>
            <button class="mode"></button>
        </header>
        <section>
            <div class="rectangular">
                <div class="display">
                    <output class="operation"></output>
                    <output class="result"></output>
                </div>
            </div>
            <div class="buttons1">
                <button class="n7" data-num="7"></button>
                <button class="n8" data-num="8"></button>
                <button class="n9" data-num="9"></button>
                <button class="div" data-opr="/"></button>
                <button class="n4" data-num="4"></button>
                <button class="n5" data-num="5"></button>
                <button class="n6" data-num="6"></button>
                <button class="por" data-opr="*"></button>
                <button class="n1" data-num="1"></button>
                <button class="n2" data-num="2"></button>
                <button class="n3" data-num="3"></button>
                <button class="men" data-opr="-"></button>                
            </div>
            <div class="buttons2">
                <button class="n0" data-num="0"></button>
                <button class="mas" data-opr="+"></button>
                <button class="punto" data-opr="."></button>
                <button class="borrar" data-opr=""></button>
                <button class="igual" data-opr=""></button>
            </div>
        </section>
    </main>
    <script>
        const mode   = document.querySelector('.mode')
        const main   = document.querySelector('main')
        const oper   = document.querySelector('.operation')
        const clear  = document.querySelector('.borrar')        
        const result = document.querySelector('.result')
        const igual  = document.querySelector('.igual')
        
        
        //numbers & operators
        const nums = document.querySelectorAll('button[data-num]')
        const oprs = document.querySelectorAll('button[data-opr]')

        //logic
        var operStatus = false
         

        //click buttons
        nums.forEach(element => {
            element.addEventListener('click', () => {
                if (oper.textContent.length < 19) {                    
                    oper.textContent += element.getAttribute('data-num')
                    operStatus = true                                       
                }                
            })
        })

        oprs.forEach(element => {
            element.addEventListener('click', () => {
                if (oper.textContent.length < 19) {
                    if (operStatus) {
                        oper.textContent += element.getAttribute('data-opr')
                        operStatus = false
                    }                    
                }                
            })            
        })

        mode.addEventListener('click', () => {
            main.classList.toggle('light')
        })

        clear.addEventListener('click', () => {
            oper.textContent = ''
            result.textContent = ''
        })

        igual.addEventListener('click', () => { 
            showResult ('')
        })  
        
        function showResult(){
            result.value = eval (oper.value)
        }

        document.addEventListener('keyup', (event) => {
            console.log(event.keyCode)

            switch (event.keyCode) {
                case 96:
                case 48:                    
                    oper.textContent += 0
                    break;

                case 97:
                case 49: 
                    oper.textContent += 1
                    break;
                
                case 98:
                case 50: 
                    oper.textContent += 2
                    break;

                case 99:
                case 51: 
                    oper.textContent += 3
                    break;
                
                case 100:
                case 52: 
                    oper.textContent += 4
                    break;

                case 101:
                case 53: 
                    oper.textContent += 5
                    break;

                case 102:
                case 54: 
                    oper.textContent += 6
                    break;

                case 103:
                case 55: 
                    oper.textContent += 7
                    break;

                case 104:
                case 56: 
                    oper.textContent += 8
                    break;

                case 105:
                case 57: 
                    oper.textContent += 9
                    break;

                case 110:
                case 190: 
                    oper.textContent += '.'
                    break;

                case 107:
                case 187: 
                    oper.textContent += '+'
                    break;

                case 109:
                case 189: 
                    oper.textContent += '-'
                    break;

                case 106:
                case 187: 
                    oper.textContent += '*'
                    break;

                case 111: 
                    oper.textContent += '/'
                    break;

                case 13: 
                    oper.textContent += '='
                    break;

                case 46:                 
                    oper.textContent += element.getAttribute('clear')
                    break;
            }
        }) 
    </script>
</body>
</html>